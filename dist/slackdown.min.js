!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.slackdown=e()}(this,function(){var e=new RegExp("^\\w?$"),a=new RegExp("<(.+?)>","g"),i=new RegExp("\\*([^\\*]+?)\\*","g"),o=new RegExp("_([^_]+?)_","g"),f=new RegExp("`([^`]+?)`","g"),p=new RegExp("```([^`]+?)```","g"),t=function(n,e){e||(e=0);var t=n.length;return r(n.substr(e,t-e))},r=function(n){return n.split("|")},c=function(n,e,t){t||(t=e,e={});var r="<".concat(n);for(var c in e)e.hasOwnProperty(c)&&(r=r.concat(" ",c,'="',e[c],'"'));return r.concat(">",t,"</",n,">")},l=function(n){var e;switch(n[1].substr(0,1)){case"!":return c("span",{class:"slack-cmd"},t(n[1],1)[0]);case"#":return e=t(n[1],2),c("span",{class:"slack-channel"},1===e.length?e[0]:e[1]);case"@":return e=t(n[1],2),c("span",{class:"slack-user"},1===e.length?e[0]:e[1]);default:return e=t(n[1]),c("a",{href:e[0]},1===e.length?e[0]:e[1])}},g=function(n){return u(n,c("strong",t(n[1])),"*")},d=function(n){return u(n,c("em",t(n[1])),"_")},h=function(n){return u(n,c("code",t(n[1])))},x=function(n){return u(n,c("pre",t(n[1])))},b=function(n){return!e.test(n)},v=function(n,e){return!n||n!==e},u=function(n,e,t){var r=0===n.index,c=n.index===n.input.length-n[0].length;if(!r){var u=n.input.substr(n.index-1,1);r=b(u)&&v(t,u)}if(!c){var s=n.input.substr(n.index+n[0].length,1);c=b(s)&&v(t,s)}return!(!r||!c)&&e};return{parse:function(n){if("string"==typeof n)for(var e=[{p:a,cb:l},{p:i,cb:g},{p:o,cb:d},{p:f,cb:h},{p:p,cb:x}],t=0;t<e.length;t++)for(var r,c=e[t],u=n;null!==(r=c.p.exec(u));){var s=c.cb(r);s&&(n=n.replace(r[0],s))}return n}}});